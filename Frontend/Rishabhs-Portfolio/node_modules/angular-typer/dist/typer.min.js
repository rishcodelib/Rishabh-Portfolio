/*! typer v0.5.2 | (c) 2015 Pete Redmond |  */
!function(t,e){"use strict";if("function"==typeof define&&define.amd)define(["angular"],e);else{if("undefined"==typeof module||"object"!=typeof module.exports)return e(t.angular);module.exports=e(require("angular"))}}(this,function(t){"use strict";function e(e,n){function r(n,r,o){var u=t.element(r[0].querySelector(".typer")),s={};if(s.repeat=n.repeat=f(n.repeat)||"undefined"==typeof n.repeat?!0:!1,n.shuffle=f(n.shuffle)?!0:!1,s.startTyping=n.startTyping=f(n.startTyping)?!0:!1,s.words=n.shuffle?d(n.words):n.words,s.wordCount=s.words.length,s.count=0,s.startDelay=n.startDelay||500,s.pause=n.pause||1e3,s.typeTime=n.typeTime||250,s.backspaceTime=n.backspaceTime||s.typeTime,s.onTyped=n.onTyped,s.onDeleted=n.onDeleted,s.onComplete=n.onComplete,s.cursor=t.element(r[0].querySelector(".typer__cursor")),s.timer=null,n.highlightBackground?(s.highlight={},s.highlight.background=n.highlightBackground,s.highlight.color=n.highlightColor||"#FFFFFF",s.highlight.speed=s.backspaceTime,s.backAction=a,s.span=c(u,s)):s.backAction=l,n.setInitalWord=function(){return s.startTyping?"":s.words[0]},n.getCursor=function(){return s.highlight?"":n.cursor||"|"},n.$watchCollection("words",function(t,e){t&&(s.words=t,s.wordCount=s.words.length)}),void 0!==n.startTrigger)var h=n.$watch("startTrigger",function(t,e){"boolean"==typeof t&&t&&(i(s,u),h())});else e(function(){i(s,u)},s.startDelay);r.on("$destroy",function(t){p(s)})}function o(){var t=['<div style="display: inline-block;">','<span class="typer">{{setInitalWord()}}</span>','<span class="typer__cursor typer__cursor--blink">{{getCursor()}}</span>',"</div>"];return t.join("")}function i(t,e){t.highlight||u(t),t.startTyping?s(e,t):t.highlight?a(e,t):l(e,t)}function u(t,e){e?t.cursor.addClass("typer__cursor--blink"):t.cursor.removeClass("typer__cursor--blink")}function s(t,e){var r=e.words[e.count],o=r.length,i=0;e.timer=n(function(){if(t.html(r.substring(0,i+1)),++i===o){if(e.count===e.wordCount-1&&!e.repeat)return e.onComplete(),void p(e);e.onTyped(),h(t,e,e.backAction)}},e.typeTime)}function l(t,e){var r=e.words[e.count],o=r.length;e.timer=n(function(){t.html(r.substring(0,o-1)),0===--o&&(e.count=g(e.count,e.wordCount),e.onDeleted(),h(t,e,s))},e.backspaceTime)}function a(t,r){var o=r.words[r.count],i=o.length;r.timer=n(function(){t.html(o.substring(0,i-1)),r.span.html(o.substring(i-1)),0===--i&&(e(function(){r.span.html("")},r.pause),r.count=g(r.count,r.wordCount),r.onDeleted(),h(t,r,s))},r.highlight.speed/i)}function c(e,n){var r=t.element("<span></span>");return r.css({backgroundColor:n.highlight.background,color:n.highlight.color}),e.after(r),r}function h(t,n,r){p(n),n.highlight||u(n,!0),e(function(){n.highlight||u(n,!1),r.apply(null,[t,n])},n.pause)}function p(t){n.cancel(t.timer),t.timer=null}function g(t,e){return t===e-1?0:t+1}function d(t){for(var e,n,r=t.length;r;)n=Math.floor(Math.random()*r),r--,e=t[r],t[r]=t[n],t[n]=e;return t}function f(t){return t===!0||"true"===t}return{template:o(),scope:{words:"=",repeat:"=?",startDelay:"@",pause:"@",typeTime:"@",backspaceTime:"@",highlightBackground:"@",highlightColor:"@",onTyped:"&",onComplete:"&",onDeleted:"&",startTyping:"=?",shuffle:"=?",cursor:"@",startTrigger:"=?"},link:r,restrict:"E",replace:!0}}var n="typer";return t.module(n,[]).directive("typer",e),e.$inject=["$timeout","$interval"],n});